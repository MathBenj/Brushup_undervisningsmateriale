\section{Optimering}
\noindent Den sidste anvendelse af differentiabilitet vi vil betragte er emnet optimering. Optimering omhandler at finde de maksimale og/eller minimale værdier for en funktion. Vi så sidste gang hvad et lokalt maksimum/minimum er. Vi kalder et punkt $x_0$ for et globalt maksimum, hvis der gælder 
\begin{align*}
f(x) \leq f(x_0),
\end{align*}
for alle $x$ i domænet for $f$. På tilsvarende hvis kalder vi et punkt $x_0$ for et globalt minimum hvis
\begin{align*}
f(x) \geq f(x_0),
\end{align*}
for alle $x$ i domænet for $f$.

Hvis vi gerne vil finde den mindste eller den største værdi en funktion $f$ antager på et lukket interval $[a,b]$ (lukket betyder at endepunkterne $a$ og $b$ er med i intervallet), så er der tre muligheder for hvor det kan ske:
\begin{enumerate}
\item Punktet $x_0$ kan være et globalt maksimum/minimum, hvis $f'(x_0)=0$.
\item Punktet $x_0$ kan være et globalt maksimum/minimum, hvis $f'(x_0)$ ikke er defineret.
\item Punktet $x_0$ kan være et globalt maksimum/minimum, hvis $x_0=a$ eller $x_0=b$.
\end{enumerate}
Det betyder, at hvis vi vil finde den største (mindste) værdi for en funktion i intervallet $[a,b]$, så skal vi undersøge disse tre tilfælde, og vælge den største (mindste) værdi.

\emph{Bonus info:} Bemærk, at hvis vores interval $(a,b)$ er åbent så skal punkt $3$. byttes ud med 
\begin{itemize}
\item[$3^*$.] Hvis $\displaystyle\lim_{y \to a}f(y) \geq f(x)$ eller $\displaystyle\lim_{y \to b}f(y) \geq f(x)$, for alle $x \in (a,b)$, så har $f$ ikke noget maksimum i intervallet $(a,b)$,
\item[$4^*$.] Hvis $\displaystyle\lim_{y \to a}f(y) \leq f(x)$ eller $\displaystyle\lim_{y \to b}f(y) \leq f(x)$, for alle $x \in (a,b)$, så har $f$ ikke noget minimum i intervallet $(a,b)$,
\end{itemize}
da vi i det tilfælde ikke kan garantere, at der er et globalt maksimum/minimum.

\paragraph*{Eksempler:}
\begin{enumerate}
\item Find den mindste værdi som funktionen $f(x)=\vert x \vert$ i intervallet $[-3,3]$:

Vi husker at $f(x)=\vert x \vert$ betyder at
\begin{align*}
f(x) = \begin{cases}
x & \textup{hvis } x \geq 0,\\
-x & \textup{hvis } x < 0.
\end{cases}
\end{align*}
Vi tjekker nu de tre mulige tilfælde, hvor det globale minumum kan være. Først husker at vi $f(x)=\vert x \vert$ ikke er differentiabel i punktet $x=0$, hvilket betyder at $f(0)=0$ muligvis er det globale minimum.

Derudover, har vi at 
\begin{align*}
f'(x)= \begin{cases}
1 & \textup{hvis } x > 0, \\
-1 & \textup{hvis } x < 0,
\end{cases}
\end{align*}
hvilket betyder at der ikke eksistere nogle punkter hvor $f'(x)=0$.

Til sidst tjekker vi værdien af $f$ i endepunkterne, hvilket giver
\begin{align*}
f(-3)=\vert -3 \vert = 3 \qquad \textup{ og } \qquad f(3)=\vert 3 \vert = 3.
\end{align*}
Derfor har det globale minimum for $f(x)=\vert x \vert$ i intervallet $[-3,3]$ værdien $0$.
\item Find den største værdi som funktionen $f(x)=\vert x \vert$ antager i intervallet $[-2,4]$:

Vi har fra Opgave 1. at der ikke er nogen løsninger til $f'(x)=0$ og at værdien for det punkt hvor den afledede af $f$ ikke eksisterer er $0$. Derfor mangler vi kun at tjekke de to endepunkter
\begin{align*}
f(-2) = \vert -2 \vert = 2 \qquad \textup{ og } \qquad f(4) = \vert 4 \vert =4.
\end{align*}
Dermed kan vi se, at værdien af det globale maksium for $f(x)=\vert x \vert$ i intervallet $[-2,4]$ er $4$.
\item Find det globale maksimum for funktionen $f(x)=-x^2$ i intervallet $[-10,10]$:

Vi tjekker igen de tre muligheder for et maksimum. Først finder vi den afledede af $f$ ved at differentiere
\begin{align*}
f'(x) = \frac{d}{dx}(-x^2) = -2x.
\end{align*}
Det betyder at $f'(x)$ er defineret i hele vores interval og det eneste punkt der opfylder at $f'(x)=0$ er $x=0$ med værdien $f(0)=0$. Vi mangler nu kun at tjekke endepunkterne
\begin{align*}
f(-10)=-(-10)^2=-100 \qquad \textup{ og } \qquad f(10)=-10^2 = - 100.
\end{align*}
Dermed kan vi se, at værdien af det globale maksium for $f(x)=-x^2 $ i intervallet $[-10,10]$ er $0$.
\item Antag, at vi har en firkantet mark, der støder op til et vandløb. Derudover, har vi $120$m hegn. Vi skal indhegne en del af marken i en firkant, hvor den ene side er afgrænset af vanløbet. Find længden og bredden af denne indhegning så arealet af indhegningen bliver størst mulig:

Lad $x$ og $y$ betegne henholdsvis længden og bredden. Så beskriver funktionen
\begin{align*}
A(x,y)=xy
\end{align*}
arealet af vores indhegning. Da vi har $120$m hegn har vi derudover ligningen
\begin{align*}
2x+y=120
\end{align*}
og hvis vi isolerer $y$ i den får vi
\begin{align*}
y=120-2x.
\end{align*}
Hvis vi indsætter dette på $y$'s plads i $A$ så får vi i stedet en funktion der kun afhænger af variablen $x$ givet ved
\begin{align*}
A(x)=x(120-2x)=120x-2x^2,
\end{align*}
hvor $x \in (0,60)$. For at løse vores problem, skal vi derfor finde det globale maksimum for $A$. Vi finder først den afledede 
\begin{align*}
A'(x)=\frac{d}{dx}(120x-2x^2)=120-4x.
\end{align*}
Dernæst finder vi de $x \in (0,60)$ som opfylder at $A'(x)=0$
\begin{align*}
A'(x) = 0 &\Leftrightarrow 120-4x = 0 \\
& \Leftrightarrow x= 30.
\end{align*}
Ved at tegne en monotonilinje (se Tabel~\ref{tab:optimeringet}) ser vi at $x=30$ er et lokalt maksimum (se Tabel~\ref{tab:optimeringet}) med værdien $A(30)=1800$.
\begin{table}
\centering
\begin{tabular}{l !{\qquad} {c}!{\qquad} {c}!{\qquad} {c}}
$x$      & $10$  &	 $30$ & $40$		\\ \toprule
$f'(x)$	 &  $80$	  &	$0$	& $-40$ 			\\ \midrule
$f(x)$ 	 & 	$\nearrow$ & & $\searrow$  \\ \bottomrule  
\end{tabular}
\caption{Monotonilinje for $A(x)=120x-x^2$.}
\label{tab:optimeringet}
\end{table}

Derudover ser vi at $f'(x)$ er defineret for alle $x \in (0,60)$. Da vores interval $(0,60)$ er åbent, mangler vi nu kun at tjekke endepunkterne for at se om der er et globalt maksimum.
\begin{align*}
\lim_{x \to 0^+}A(x)&=\lim_{x \to 0^+} 120x -2 x^2= 120 \cdot 0 - 2 \cdot 0^2 =0 \\
\lim_{x \to 60^-} A(x) &= \lim_{x \to 60^-} 120x -2 x^2 =  120\cdot 60 - 2\cdot 60^2 = 0.
\end{align*}
Da $A(30)$ er større end de to grænseværdier, har vi, at $A(30)$ er vores globale maksimum. Dvs. at for at få det størst mulige areal skal $x=30$ og $y=120-2 \cdot 30 = 60$.
\end{enumerate}







